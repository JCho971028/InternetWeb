<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
</head>

<body>
  <script id='template' style='text/template'>
    <p>
      <pre><%=url%></pre>
    </p>

    <p>
    <form method="get" action="<%=url%>">
      <label for="name">GET으로 보낼 name:</label>
      <input type="text" name="name" value="Jane Doe">
      <input type="submit">
    </form>
    </p>

    <p>
    <form method="post" action="<%=url%>">
      <label for="name">POST로 보낼 name:</label>
      <input type="text" name="name" value="John Doe">
      <input type="submit">
    </form>
    </p>
  </script>

  <p>
    <form>
      <label>URL:</label>
      <input id="url" type="text">
      <input id="urlsubmit" type="submit" value="GET/POST 폼 생성">
    </form>
  </p>

  <div id='templateTarget'></div>

  <script src='https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js'>
  </script>

  <script>
    var tplContent = document.querySelector('#template').textContent;
    var tpl = _.template(tplContent);
    var tplTarget = document.querySelector('#templateTarget');

    function generateforms() {
      tplTarget.innerHTML = tpl({url:'안기영'});
    }

    var urlsubmit = document.querySelector('#urlsubmit');
    urlsubmit.addEventListener('click', generateforms);
  </script>
</body>
</html>
